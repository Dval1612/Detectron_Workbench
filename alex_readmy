
1) check your torch and cuda versions

import torch
TORCH_VERSION = ".".join(torch.__version__.split(".")[:2])
CUDA_VERSION = torch.__version__.split("+")[-1]
print("torch: ", TORCH_VERSION, "; cuda: ", CUDA_VERSION)


2) install detectron2 for your torch and cuda versions in terminal

pip install detectron2 -f https://dl.fbaipublicfiles.com/detectron2/wheels/$CUDA_VERSION/torch$TORCH_VERSION/index.html
pip install opencv-python


3) Put images and model in demo folder

4) Rename detectron2 to detectron.


Params:

# to run demo.py with coco images:
--config-file ../configs/COCO-InstanceSegmentation/mask_rcnn_R_50_FPN_3x.yaml --input input3.jpg input4.jpg --opts MODEL.WEIGHTS model_final_280758.pkl

# to run train_net.py to train on coco
--num-gpus 1 --config-file ../configs/COCO-InstanceSegmentation/mask_rcnn_R_50_FPN_1x.yaml

# to run inference and train on custom dataset(ex. lemons)
--config-file ../configs/COCO-InstanceSegmentation/mask_rcnn_R_50_FPN_3x.yaml --input input1.jpg input2.jpg --opts MODEL.WEIGHTS model_final.pth